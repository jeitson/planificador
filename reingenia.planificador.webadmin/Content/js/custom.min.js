"undefined" == typeof jsCustom && (jsCustom = {}), jsCustom.item = { jsObject: null, titleDelete: "", titleDisabled: "", messageDelete: "", messageDisabled: "" }, jsCustom.Default = { init: function () { $(document).on("click", ".btnURL", function (t) { t.preventDefault(), jsCustom.Funcion.goURL($(this)) }), $(document).on("click", ".btnURLTable", function (t) { t.preventDefault(), jsCustom.Funcion.hideMessage(), jsCustom.Funcion.goURLTable($(this)) }), $(document).on("click", ".btnForm", function (t) { t.preventDefault(), jsCustom.Funcion.hideMessage(), jsCustom.Funcion.submitForm($(this)) }), $(document).on("click", ".btnModal", function (t) { t.preventDefault(), jsCustom.Funcion.hideMessage(), jsCustom.Funcion.showModal($(this)) }), $(document).on("click", ".btnModalDetail", function (t) { t.preventDefault(), jsCustom.Funcion.hideMessage(), jsCustom.Funcion.showModalDetail($(this)) }), $(document).on("click", ".btnModalDelete", function (t) { t.preventDefault(), jsCustom.Funcion.hideMessage(), jsCustom.Funcion.showModalDelete($(this)) }), $(document).on("click", ".btnDeleteItem", function (t) { t.preventDefault(), jsCustom.Funcion.setDeleteItem($(this)) }), $(document).on("click", ".btnPagination", function (t) { t.preventDefault(), jsCustom.Funcion.setPage($(this)) }), $(document).on("click", ".btnSortTable", function (t) { t.preventDefault(), jsCustom.Funcion.setOrder($(this)) }), $(document).on("click", ".btnClearFile", function (t) { t.preventDefault(), jsCustom.Funcion.setClearFile($(this)) }), $(document).on("click", ".btnRefresh", function (t) { t.preventDefault(), jsCustom.Funcion.setRefresh($(this)) }), $(document).on("click", ".tdShow, .spanHover", function (t) { t.preventDefault(), jsCustom.Funcion.getShowRow($(this)) }) }, setPanel: function () { $(document).on("click", ".panel-tools .panel-collapse", function (t) { t.preventDefault(); var e = jQuery(this).parent().closest(".panel").children(".panel-body"); $(this).hasClass("collapses") ? ($(this).addClass("expand").removeClass("collapses"), e.slideUp(200)) : ($(this).addClass("collapses").removeClass("expand"), e.slideDown(200)) }), $(document).on("click", ".panel-tools .panel-expand", function (t) { $(".panel-tools a").not(this).hide(), $("body").append('<div class="full-white-backdrop"></div>'), $(".main-container").removeAttr("style"), backdrop = $(".full-white-backdrop"), wbox = $(this).parents(".panel"), wbox.removeAttr("style"), wbox.hasClass("panel-full-screen") ? backdrop.fadeIn(200, function () { $(".panel-tools a").show(), wbox.removeClass("panel-full-screen"), backdrop.fadeOut(200, function () { backdrop.remove() }) }) : ($("body").append('<div class="full-white-backdrop"></div>'), backdrop.fadeIn(200, function () { $(".main-container").css({ "max-height": $(window).outerHeight() - $("header").outerHeight() - $(".footer").outerHeight() - 100, overflow: "hidden" }), backdrop.fadeOut(200), backdrop.remove(), wbox.addClass("panel-full-screen").css({ "max-height": $(window).height(), overflow: "auto" }) })) }) } }, jsCustom.Funcion = { getOptionsAjaxForm: function (t, e) { return { async: !1, cache: !1, dataType: "json", success: function (s, a, n) { t.successForm(e, s) }, error: function (t, e, s) { jsCustom.Funcion.showErrorAjax(t, e, s) } } }, showErrorAjax: function (t, e, s) { var a = ""; a = 0 === t.status ? "Not connect.<br /> Verify Network." : 404 == t.status ? "Requested page not found. [404]" : 500 == t.status ? "Internal Server Error [500]." : "parsererror" === e ? "Requested JSON parse failed." : "timeout" === e ? "Time out error." : "abort" === e ? "Ajax request aborted." : "Uncaught Error. <br />" + jqXHR.responseText, this.showMessage(a) }, getJSON: function (t, e) { var s = null; return $.ajax({ async: !1, cache: !1, type: "POST", dataType: "json", url: t, data: e, success: function (t, e, a) { s = { ok: !0, result: t, status: e, xhr: a } }, error: function (t, e, a) { s = { ok: !1, result: t, status: e, xhr: a } } }), s }, getJSONURL: function (t) { var e = null; return $.ajax({ async: !1, cache: !1, type: "POST", dataType: "json", url: t, success: function (t, s, a) { e = { ok: !0, result: t, status: s, xhr: a } }, error: function (t, s, a) { e = { ok: !1, result: t, status: s, xhr: a } } }), e }, setDLLJSON: function (t, e, s, a) { $.ajax({ async: !1, cache: !1, type: "POST", dataType: "json", url: t, data: e, success: function (t, e, n) { if ("N" == jsCustom.Funcion.getValidateDefault(t.isError, "")) { $(s).append('<option value=""></option>'); for (var o = 0; o < t.lstBE.length; o++)null != a ? $(s).append('<option value="' + t.lstBE[o].codigo + '">' + t.lstBE[o].nombre + "</option>") : $(s).append('<option value="' + t.lstBE[o].id + '">' + t.lstBE[o].nombre + "</option>") } else jsCustom.Funcion.showMessage(t.message) }, error: function (t, e, s) { jsCustom.Funcion.showErrorAjax(t, e, s) } }) }, getObjectJSON: function (t, e) { var s = null; return $.ajax({ async: !1, cache: !1, type: "POST", dataType: "json", url: t, data: e, success: function (t, e, a) { "N" == jsCustom.Funcion.getValidateDefault(t.isError, "") ? s = t.custom01 : jsCustom.Funcion.showMessage(t.message) }, error: function (t, e, s) { jsCustom.Funcion.showErrorAjax(t, e, s) } }), s }, getJSONProcess: function (t, e) { var s = ""; return $.ajax({ async: !1, cache: !1, type: "POST", dataType: "json", url: t, beforeSend: function () { $(".ajax-loader").css("visibility", "visible"), $(".ajax-loader").show() }, success: function (t) { "S" == jsCustom.Funcion.getValidateDefault(t.isError, "") && (s = t.message) }, complete: function () { $(".ajax-loader").css("visibility", "hidden"), $(".ajax-loader").hide() } }), s }, getValidSave: function (t, e) { var s = !1, a = this.getJSON(t, e); return a.ok ? "N" == jsCustom.Funcion.getValidateDefault(a.result.isError, "") ? s = !0 : jsCustom.Funcion.showMessage(a.result.message) : jsCustom.Funcion.showErrorAjax(a.result, a.status, a.xhr), s }, showMessage: function (t) { "" != (t = this.getValidateDefault(t, "")) && ($("#pMessageContent").html(t), $("#modalMessage").modal("show")) }, showModal: function (t) { var e = !0, s = this.getValidate(t, "modal", null, "data", "string"); if (null != s) { var a = this.getValidate(t, "custom", null, "data", "string"); null != a && null != jsCustom.item.jsObject && (e = jsCustom.item.jsObject.setCustomModal(t, a)), e && $("#" + s).modal("show") } }, showModalDelete: function (t) { var e = this.getValidate(t, "url", null, "data", "string"), s = this.getValidate(t.closest("tr"), "id", null, "data", "string"), a = this.getValidate(t.closest("tr").parent().parent(), e, null, "data", "string"), n = this.getValidate(t.closest("tr"), "name", null, "data", "string"), o = this.getValidate(t, "custom", "", "data", "string"); if (null != e && null != s && null != a && null != n) { var l = !0; if ("s" == this.getValidate(t, "valid", "", "data", "string")) (t = this.getJSONURL(a + "ValidView/" + s)).ok ? "S" == jsCustom.Funcion.getValidateDefault(t.result.isError, "") && (jsCustom.Funcion.showMessage(t.result.message), l = !1) : (jsCustom.Funcion.showErrorAjax(t.result, t.status, t.xhr), l = !1); if (l) { var i = { title: jsCustom.item.titleDelete, message: jsCustom.item.messageDelete }; "disabled" == e && (i.title = jsCustom.item.titleDisabled, i.message = jsCustom.item.messageDisabled), "" != o && (i = jsCustom.item.jsObject.setMessage(o, i)), o = e, $("#modalDeleteItem_btnOK").data("id", s), $("#modalDeleteItem_btnOK").data("url", a), $("#modalDeleteItem_btnOK").data("custom", o), $("#modalDeleteItem_pTitle").html(i.title), $("#modalDeleteItem_pMessage").html(i.message), $("#modalDeleteItem_pName").html(n), $("#modalDeleteItem").modal("show") } } }, showModalDetail: function (t) { var e = this.getValidate(t, "url", null, "data", "string"), s = this.getValidate(t.closest("tr"), "id", null, "data", "string"), a = this.getValidate(t, "customurl", "", "data", "string"), n = this.getValidate(t.closest("tr").parent().parent(), e, null, "data", "string"), o = null; if (null != e && null != s && null != n) { var l = !0; if ("s" == this.getValidate(t, "valid", "", "data", "string")) (t = this.getJSONURL(n + "ValidView/" + s)).ok ? "S" == jsCustom.Funcion.getValidateDefault(t.result.isError, "") && (jsCustom.Funcion.showMessage(t.result.message), l = !1) : (jsCustom.Funcion.showErrorAjax(t.result, t.status, t.xhr), l = !1); if (l) null != (o = this.getObjectJSON(n + a, { id: s })) && jsCustom.item.jsObject.setEntityItem(e, o) } }, goURL: function (t) { var e = this.getValidate(t, "url", null, "data", "string"); null != e && this.sendURL(e) }, sendURL: function (t) { window.location.href = t }, goURLTable: function (t) { var e = this.getValidate(t, "url", null, "data", "string"), s = this.getValidate(t.closest("tr"), "id", null, "data", "string"), a = this.getValidate(t, "idcustom", null, "data", "string"), n = this.getValidate(t.closest("tr").parent().parent(), e, null, "data", "string"); null != e && null != s && null != n && ("s" == this.getValidate(t, "valid", "", "data", "string") ? $.ajax({ async: !1, cache: !1, dataType: "json", type: "POST", url: n + "ValidView/" + s, success: function (t, e, a) { "N" == jsCustom.Funcion.getValidateDefault(t.isError, "") ? jsCustom.Funcion.sendURL(n + "/" + s) : jsCustom.Funcion.showMessage(t.message) }, error: function (t, e, s) { jsCustom.Funcion.showErrorAjax(t, e, s) } }) : (null != a && (s = a), this.sendURL(n + "/" + s))) }, submitForm: function (t) { var e = this.getValidate(t, "form", null, "data", "string"); null != e && (null == jsCustom.item.jsObject || jsCustom.item.jsObject.setFormSubmit(e)) && $("#" + e).submit() }, setValueHiddenforInputForm: function (t) { $("form#" + t + " input[type=hidden]").each(function () { var e = jsCustom.Funcion.getValidate($(this), "id", null, "attr", "string"); null != e && "pagina" != (e = e.replace(t + "_", "").toLowerCase()) && $(this).val($("#" + t + "_" + e).val()) }) }, setPage: function (t) { var e = this.getValidate(t.closest("ul"), "form", null, "data", "string"), s = this.getValidate(t, "page", null, "data", "string"), a = this.getValidate(t.closest("ul"), "currentpage", null, "data", "string"); null != e && null != s && null != a && ("plus" == s ? s = a + 1 : "minus" == s && (s = a - 1), this.setValueHiddenforInputForm(e), $("#" + e + "_pagina").val(s), $("#" + e).submit()) }, setOrder: function (t) { var e = this.getValidate(t.closest("table"), "form", null, "data", "string"), s = this.getValidate(t, "order", null, "data", "string"); if (null != e && null != s) { var a = "", n = this.getValidate(t, "classList", null, "prop", ""); if (null != n) { for (var o = 0; o < n.length; o++)"sorting" == n[o] ? a = "1" : "sorting_asc" == n[o] ? a = "2" : "sorting_desc" == n[o] && (a = "1"); "" != a && (this.setValueHiddenforInputForm(e), $("#" + e + "_pagina").val("1"), $("#" + e + "_tipoorden").val(a), $("#" + e + "_columnaorden").val(s), $("#" + e).submit()) } } }, setDataTable: function (t, e, s) { try { $("#" + t).dataTable({ bInfo: !1, bLengthChange: !1, iDisplayLength: 5, bFilter: !1, bSort: s, bPaginate: !1, bAutoWidth: !1, aoColumns: e, oLanguage: { sProcessing: "Procesando...", sLengthMenu: "Mostrar _MENU_ registros", sZeroRecords: "No se encontraron resultados a mostrar", sEmptyTable: "No se encontraron resultados a mostrar", sInfo: "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros", sInfoEmpty: "", sInfoFiltered: "(filtrado de un total de _MAX_ registros)", sInfoPostFix: "", sSearch: "Buscar:", sUrl: "", sInfoThousands: ",", sLoadingRecords: "Cargando...", oPaginate: { sFirst: "Primero", sLast: "Último", sNext: "Siguiente", sPrevious: "Anterior" }, oAria: { sSortAscending: ": Activar para ordenar la columna de manera ascendente", sSortDescending: ": Activar para ordenar la columna de manera descendente" } } }) } catch (t) { alert("setDataTable: " + t.message) } }, setOrderTable: function (t, e, s, a) { try { if (e) return void $("#" + t + " .btnSortTable").each(function () { $(this).removeClass("btnSortTable") }); if ("" != a && "" != s) { $("#" + t + " .btnSortTable").each(function () { jsCustom.Funcion.getValidate($(this), "order", "", "data", "string") == a ? "1" == s ? $(this).addClass("sorting_asc") : $(this).addClass("sorting_desc") : $(this).addClass("sorting") }) } } catch (t) { alert("setOrderTable: " + t.message) } }, getValidate: function (t, e, s, a, n) { try { return "data" == a ? value = t.data(e) : "prop" == a ? value = t.prop(e) : "attr" == a && (value = t.attr(e)), "undefined" == typeof value ? s : null == value ? s : "string" == n && "" == ("" + value).trim() ? s : value } catch (t) { return alert(t.message), s } }, getValidateDefault: function (t, e) { return void 0 === t ? e : null == t ? e : "" == t.trim() ? e : t }, clearInputText: function (t, e, s) { for (var a = 0; a < e.length; a++)$("#" + t + "_" + e[a]).val(s) }, setDatePicker: function (t, e) { var s = $(t).val(); null != s && "" != s && (s = moment(s, "DD/MM/YYYY").format("MM/DD/YYYY")), $(t).val("").datetimepicker({ format: "dd/mm/yyyy", locale: "es", useCurrent: !1, defaultDate: s, widgetPositioning: { horizontal: "left", vertical: e } }) }, setFormatDateJSON: function (t, e) { if (null == t) return ""; var s = new Date(parseInt(t.replace("/Date(", "").replace(")/", ""), 10)), a = ("00" + s.getDate()).slice(-2) + "/" + ("00" + (s.getMonth() + 1)).slice(-2) + "/" + s.getFullYear(); return null != e && (a = "mm" == e ? ("00" + s.getDate()).slice(-2) + "/" + ("00" + (s.getMonth() + 1)).slice(-2) + "/" + s.getFullYear() + " " + ("00" + s.getHours()).slice(-2) + ":" + ("00" + s.getMinutes()).slice(-2) : ("00" + s.getDate()).slice(-2) + "/" + ("00" + (s.getMonth() + 1)).slice(-2) + "/" + s.getFullYear() + " " + ("00" + s.getHours()).slice(-2) + ":" + ("00" + s.getMinutes()).slice(-2) + ":" + ("00" + s.getSeconds()).slice(-2)), a }, setDeleteItem: function (t) { var e = this.getValidate(t, "id", null, "data", "string"), s = this.getValidate(t, "url", null, "data", "string"); if (null != s && null != e) { var a = this.getValidate(t, "custom", "", "data", "string"), n = { id: e }; $.ajax({ async: !1, cache: !1, dataType: "json", type: "POST", url: s, data: n, success: function (t, e, s) { $("#modalDeleteItem").modal("hide"), "N" == jsCustom.Funcion.getValidateDefault(t.isError, "") ? "" != a && jsCustom.item.jsObject.setDeleteItem(a) : jsCustom.Funcion.showMessage(t.message) }, error: function (t, e, s) { $("#modalDeleteItem").modal("hide"), jsCustom.Funcion.showErrorAjax(t, e, s) } }) } }, hideMessage: function () { $("#divListMessage").hide() }, setClearFile: function (t) { var e = this.getValidate(t, "pathfileid", null, "data", "string"); null != e && $("#" + e).val("") }, setRefresh: function (t) { var e = this.getValidate(t, "div", null, "data", "string"); null != e && null != jsCustom.item.jsObject && jsCustom.item.jsObject.setRefresh(t, e) }, getShowRow: function (t) { var e = {}; try { e.elementsA = $(t).closest("tr").find("td:last-child").find("a"), e.elementA = null, e.show = "", $.each($(e.elementsA), function () { e.show = jsCustom.Funcion.getValidate($(this), "url", "", "data", "string"), "show" == e.show && (e.elementA = $(this)) }), null != e.elementA && $(e.elementA).trigger("click") } catch (t) { } e = null } };